# v1.2.7 - 2026-02-19

This patch fixes an issue where passwords typed into interactive child processes (for example `sudo`) could be visible in the host terminal when running commands via `krnr`/TUI.

## Bug fixes

### Prevent passwords from being echoed locally
When the executor runs a child in hybrid PTY mode the child already has a proper `/dev/tty`, but the host terminal could still echo typed characters locally â€” causing passwords to be visible to someone watching the host terminal.

**Fix:** while a PTY-backed child runs we temporarily disable *local echo* on the caller's terminal and restore the prior terminal state afterward. Only the local ECHO flag is toggled so output post-processing and rendering remain unchanged (no more visual glitches).

**Tests:** added unit tests that simulate terminal-like stdin and verify host-terminal echo toggling.

## Tests & Quality
- Added `TestExecute_SetsHostTerminalRaw` and supporting test hooks for terminal-mode behavior.
- Addressed small linter/test hygiene issues; `golangci-lint`, `gocyclo`, and unit tests pass locally.

## Docs
- Updated `docs/executor.md` and `docs/tui.md` to document the host-terminal echo behavior during interactive runs.

## Upgrade notes
- No DB schema changes. Users should simply upgrade to v1.2.7.
